# Spring Boot application properties for production environment

# -------------------- SERVER CONFIGURATION --------------------
server.port=${SERVER_PORT:8081}

# -------------------- LOGGING CONFIGURATION --------------------
# Maximum request/response body length to log (in bytes)
motivational.telegram.bot.configuration.log.max-request-length=4096
motivational.telegram.bot.configuration.log.max-response-length=4096

# -------------------- REDIS CONFIGURATION --------------------
# Redis server connection details for caching
spring.data.redis.host=redis-18995.c135.eu-central-1-1.ec2.redns.redis-cloud.com
spring.data.redis.port=18995
spring.data.redis.username=${REDIS_USERNAME}
spring.data.redis.password=${REDIS_PASSWORD}

# -------------------- REDISSON CONFIGURATION --------------------
# Redisson configuration file for distributed locks
spring.redis.redisson.file=classpath:config/prod/redisson-prod.yaml

# -------------------- DATABASE CONFIGURATION --------------------
# PostgreSQL database configuration for production
spring.datasource.url=jdbc:postgresql://localhost:5432/postgres
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# -------------------- IMPORT ADDITIONAL CONFIGURATION --------------------
# Import page and API configuration files
spring.config.import=classpath:config/prod/api-prod.properties, classpath:config/prod/pages-prod.properties

# -------------------- PHRASE SCHEDULER CONFIGURATION --------------------
# Times (HH:mm:ss) when phrases should be sent (comma-separated)
motivational.telegram.bot.configuration.phrase.sending-times=14:47:00,14:48:00,14:49:00
# Time zone for phrase scheduling
motivational.telegram.bot.configuration.phrase.time-zone=Europe/Rome
# Time (seconds) to add to retry interval after each integration error
# (e.g. if retryOffset=0 -> 1st sleepTime=30s, 2nd 60s, etc.)
motivational.telegram.bot.configuration.phrase.scheduler-retry-interval=30
# Maximum time (seconds) after which to stop the notification job if integration errors persist
motivational.telegram.bot.configuration.phrase.scheduler-max-retry-duration=600
# Maximum time (seconds) to lease the lock
motivational.telegram.bot.configuration.phrase.scheduler-lock-lease-time=600

# -------------------- COOLDOWN CONFIGURATION --------------------
# Cooldown durations for commands (ISO-8601 format, e.g. PT6H = 6 hours)
motivational.telegram.bot.configuration.cooldown.cooldown-duration-map.RANDOM_PHRASE=PT6H

# -------------------- COMMAND AUTHORIZATION CONFIGURATION --------------------
# Command authorization map (format: command-text=UserRoleSet)
motivational.telegram.bot.configuration.command.auth-roles-map[/loadfilephrases]=ADMIN
# Command cooldown skipping roles
motivational.telegram.bot.configuration.command.skip-cooldown-roles=ADMIN